{"filter":false,"title":"connections.go","tooltip":"/server/routes/connections.go","undoManager":{"mark":4,"position":3,"stack":[[{"start":{"row":0,"column":0},"end":{"row":50,"column":1},"action":"insert","lines":["package routes","","import (","\t\"context\"","\t\"fmt\"","\t\"log\"","\t\"os\"","\t\"time\"","","\t\"github.com/joho/godotenv\"","\t\"go.mongodb.org/mongo-driver/mongo\"","\t\"go.mongodb.org/mongo-driver/mongo/options\"",")","","//DBinstance func","func DBinstance() *mongo.Client {","\terr := godotenv.Load(\".env\")","","\tif err != nil {","\t\tlog.Fatal(\"Error loading .env file\")","\t}","","\tMongoDb := os.Getenv(\"MONGODB_URL\")","","\tclient, err := mongo.NewClient(options.Client().ApplyURI(MongoDb))","\tif err != nil {","\t\tlog.Fatal(err)","\t}","","\tctx, cancel := context.WithTimeout(context.Background(), 10*time.Second)","","\tdefer cancel()","\terr = client.Connect(ctx)","\tif err != nil {","\t\tlog.Fatal(err)","\t}","\tfmt.Println(\"Connected to MongoDB!\")","","\treturn client","}","","//Client Database instance","var Client *mongo.Client = DBinstance()","","//OpenCollection is a  function makes a connection with a collection in the database","func OpenCollection(client *mongo.Client, collectionName string) *mongo.Collection {","","\tvar collection *mongo.Collection = client.Database(\"cluster0\").Collection(collectionName)","","\treturn collection","}"],"id":1}],[{"start":{"row":50,"column":1},"end":{"row":51,"column":0},"action":"insert","lines":["",""],"id":2,"ignore":true}],[{"start":{"row":7,"column":7},"end":{"row":8,"column":0},"action":"remove","lines":["",""],"id":3}],[{"start":{"row":5,"column":0},"end":{"row":8,"column":0},"action":"remove","lines":["\t\"log\"","\t\"os\"","\t\"time\"",""],"id":12,"ignore":true},{"start":{"row":8,"column":0},"end":{"row":11,"column":0},"action":"insert","lines":["\t\"log\"","\t\"os\"","\t\"time\"",""]}],[{"start":{"row":23,"column":154},"end":{"row":23,"column":155},"action":"insert","lines":["\""],"id":12}],[{"start":{"row":23,"column":154},"end":{"row":23,"column":156},"action":"remove","lines":["\"\""],"id":13}],[{"start":{"row":23,"column":59},"end":{"row":23,"column":154},"action":"insert","lines":["mongodb+srv://Joshua-Brewer:${DBPASS}@cluster0.luv0jcw.mongodb.net/?retryWrites=true&w=majority"],"id":14}],[{"start":{"row":23,"column":59},"end":{"row":23,"column":61},"action":"insert","lines":["\"\""],"id":15}],[{"start":{"row":23,"column":58},"end":{"row":23,"column":65},"action":"remove","lines":["MongoDb"],"id":16},{"start":{"row":23,"column":58},"end":{"row":23,"column":59},"action":"insert","lines":["\""]}]]},"ace":{"folds":[],"scrolltop":432.00000000000017,"scrollleft":0,"selection":{"start":{"row":25,"column":1},"end":{"row":25,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":19,"state":"start","mode":"ace/mode/golang"}},"timestamp":1676664103997,"hash":"03b13814e75e7e4df991a10c1fa49549e2670c30"}